{% extends "base.html" %}
{%block main%}

{% load staticfiles %}
<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>boardMain</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
    crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
    crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

    <style>
      a{
        z-index: 11111;
      }
* {
    
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    -o-box-sizing: border-box;
    box-sizing: border-box;
}

.all-container {
  position: relative;
  justify-content: center;
  align-items: center;
    width: 1160px;
    margin: 0 auto;
    margin-bottom: 100px;
    margin-top:30px;}


body {
    
    margin: 0;
    padding: 0;
    background-size: 100%, 100%;
    background-repeat: no-repeat;
    background-image: url('/static/adventure-blur-close-up-346885.jpg');
    background-attachment: fixed;
}

span {
  vertical-align: middle;
    font-size: 50px;
    
    padding-bottom: 10px;
}

.time h3 {
    
    margin-top: 90px
}


h3 {
    
    color: #d1d1d1;
}

#container {
  position: relative;
    height: 100px;
    width: 100%;
    float: left;
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    -o-border-radius: 4px;
    border-radius: 4px;
    margin-top: -200px;  
    text-transform: uppercase;
    line-height: 24px;
    z-index: -1;
    
}

.time {
    
    width: 10%;
    float: left;
    margin-right: 2.5%;
    margin-left: 2.5%;
    text-align: center;
}

    </style>
<style>


html {
  box-sizing: border-box;
}

body {
  justify-content: center;
  align-items: center;
}

.page:after {
  content: '';
  display: block;
  position: fixed;
  height: 100%;
  width: 100%;
  left: 0;
  top: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1;
}

body {
  font-family: Helvetica,Arial,sans-serif;
}

.demo-box {
  border-radius: 4px;
  opacity: 0.9;
  background: #fff;
  margin-bottom: 20px;
  box-shadow: -4px 23px 48px -13px rgba(0, 0, 0, 0.5);
  padding: 20px;
  padding-top: 5px;
}

.flight-duration {
  /* margin-top: 20px; */
  max-width: 430px;
  margin: 14px auto 0 auto;
  text-align: center;
  font-size: 15px;
  color: black;
  position: relative;
  z-index: 4;
}

.flight-info {
  position: relative;
  display: table;
  width: 100%;
  table-layout: fixed;
  max-width: 460px;
  margin-left: 10px;
  border-collapse: collapse;
}
.flight-info:after {
  content: "";
  width: 200%;
  height: 2px;
  position: absolute;
  top: 20px;
  display: block;
  background: gray;
  z-index: 0;
}
.flight-info .segments {
  display: table-row;
  vertical-align: middle; 


  
}
.flight-info .segments > div {
  display: table-cell;
  text-align: center;
  position: relative;
  vertical-align: middle; 

  
}
.flight-info .segments .airport {
  display: block;
  font-size: 17px;
  color: black ;
}
.flight-info .segments .airport:only-child {
  padding-top: 0;
  line-height: 20px;
  
}
.plane{
  color:cornflowerblue;
}
.flight-info .segments .plane {
  width: 36px;
  height: 36px;
  background-color: #fff;
  position: absolute;
  display: block;
  left: 100%;
  transform: translateX(250%);
  top: 0;
  background-image: url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDUwIDI1Ij48cGF0aCBkPSJNNDYuMiwxMS4zYy0wLjktMS43LTMtMi4yLTQuNy0xLjNsLTEwLjcsNi4zbC0xNi02LjZsLTMuNSwyTDIyLDIxLjZMMTIuNiwyN0wyLjIsMjUuM0wwLDI2LjZsOC40LDYuN2wwLDBsMCwwbDAsMGwwLDBjNC44LTAuMyw1LjUtMC40LDgtMC42TDQ0LjksMTZDNDYuNSwxNS4xLDQ3LjEsMTMsNDYuMiwxMS4zeiIgc3R5bGU9ImZpbGw6IHJnYigxMTgsIDExOCwgMTE4KTsiLz48L3N2Zz4=");
  background-size: 50% 100%;
  background-position: center;
  background-repeat: no-repeat;
  z-index: 5;
  
}
.flight-info .segments time {
  font-weight: bold;
  font-size: 17px;
  line-height: 20px;
  vertical-align: middle; 
  white-space: nowrap;
}
.adaptive{
    position:absolute;
    left:50%;
    z-index: 6;
}
.flight-info .segments .segment {
    position:absolute;
    
  width: 200px;
  background: #fff;
  position: relative;
  z-index: 3;
  /* margin:10px;   */
  padding: 0 8px;
}
.flight-info .segments .departure {
margin:10px;
  padding: 0 8px 0 0;
  vertical-align: middle; 

}
.flight-info .segments .destination {
    position: absolute;
    margin:10px;
    left: 200%;
    top: -13%;
  padding: 0 0 0 8px;
}

@media screen and (max-width: 39.9375em) {
  .adaptive {
    display: none !important;
  }
}
@media screen and (max-width: 20em) {
  .flight-duration {
    display: none !important;
  }
}
@media screen and (max-width: 15em) {
  .flight-info:after {
    display: none !important;
  }
}
@media screen and (min-width: 16em) {
  .flight-info:after {
    display: block !important;
  }
}
p .info {
  position: absolute;
  bottom: 10px;
  font-size: 11px;
}

.please{
  vertical-align: middle; 

    justify-content: center;
  align-items: center;   
}

.airport{
  word-break: keep-all;
}
.main{
  margin-top: 0px;
  font-size: 30px;
}
.pe
{
  font-size: 15px;
  float:right;
text-align: right;
}

</style>

<style>

a{
  z-index: 1000;
  color:black;
}
a:hover,
        a:focus {
            text-decoration: none;
            outline: none
        }
ul{
  list-style-type:none;
  padding:0;
  margin:0;
  vertical-align: middle;
}
        .pagination-box {
            text-align: center;
            margin-top: 120px;
            margin-right: -110px;
        }

        .pagination {
            display: inline-flex;
            position: relative;
            overflow: hidden;
            border-radius: 0;
        }

        .pagination li a.page-link,
        .pagination li:first-child a.page-link,
        .pagination li:last-child a.page-link {
            border:none;
            height: 45px;
            width: 45px;
            line-height: 35px;
            border-radius:50%;
            background-color: transparent;
            color: #fff;
            font-size: 20px;
            font-weight: 700;
            position: relative;
            overflow: hidden;
            letter-spacing: 1px;
            text-transform: uppercase;
            z-index: 1;
            margin: 0 8px 0 0;
            transition: all 0.4s ease 0s;
        }

        .pagination li a.page-link:before,
        .pagination li:first-child a.page-link:before,
        .pagination li:last-child a.page-link:before {
            content:"";
            position: absolute;
            top:0;
            left:0;
            width: 100%;
            height: 100%;
            border: 2px solid #fff;
            border-radius:50%;
            opacity: 0;
            transform:scaleY(0);
            transition:all 0.3s ease 0s;
        }

        .pagination li a.page-link:hover:before,
        .pagination li.active a.page-link:before {
            transform:scaleY(1);
            opacity: 1;
        }

        .pagination li:last-child a.page-link {
            margin-right: 0;
        }

        .pagination li.active a.page-link,
        .pagination li a.page-link:hover,
        .pagination li.active a.page-link:hover {
            background-color: transparent;
            color: #fff;
            border:none;
            vertical-align: middle;

        }
        @media only screen and (max-width: 480px){
            .pagination{ display: block; }
            .pagination li{
              vertical-align: middle;

                display: inline-block;
                margin-bottom: 20px;
            }
        }
.icon{
  color:white;
  vertical-align: middle;
  /* padding-bottom: 10px; */

}
</style>


<style>
    #searchItem,
    #search,
    #randomSearch {
      display: block;
      font-family: "Lato", sans-serif;
      /* margin-left: ; */
    }
    
    #searchItem {
      max-width: 100%;
      text-transform: uppercase;
      letter-spacing: 1px;
      text-align: center;
      outline-color: #252626;
    }
    
    #search,
    #randomSearch {
      position: relative;

      color: white;
      padding: 5px 8px;
      outline: none;
      border: 2px solid white;
      border-radius: 3px;
      background: none;
      text-transform: uppercase;
      cursor: pointer;
      font-size: 20px;
    }
    #search:hover,
    #randomSearch:hover {
      border-color: transparent;
    }
    #search:hover::before,
    #randomSearch:hover::before {
      opacity: 1;
      -webkit-transform: scale(1, 1);
              transform: scale(1, 1);
    }
    #search::before,
    #randomSearch::before {
      position: absolute;
      content: "";
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-top: 2px solid wheat;
      border-bottom: 2px solid  wheat;
      -webkit-transform: scale(0.1, 1);
              transform: scale(0.1, 1);
      transition: all 0.3s;
      z-index: 1;
      opacity: 0;
    }
    
::-moz-selection {
  color: #252626;
  background: #836C4B;
}

::selection {
  color: #252626;
  background: #836C4B;
}



.search-button{
  position: absolute;
  right: 15%;
}

    </style>



<style>

.search-box{
  position: absolute;
  top: 80%;
  left: 20%;
  transform: translate(-50%, -50%);
  background: white;
  /* height: 40px; */
  border-radius: 40px;  
  padding: 10px;
}
.search-box:hover > .search-txt {
  width: 240px;
  padding: 0 6px;
}
.search-box:hover > .search-btn {
  background: black;
}
.search-btn {
  color: #EEDA8C;
  float: right;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: white;
  display: flex;
  justify-content: center;
  align-items: center;
}
.search-txt {
  border: none;
  background: none;
  outline: none;
  float: left;
  padding: 0;
  color: black;
  font-size: 16px;
  transition: 0.4s;
  line-height: 40px;
  width: 0px;
}




#logo2{
  position: absolute;
  top:15px;
  left:120px;
  width:180px;
  height:70px;
  transform: rotate(3deg);
}


.menu--style1{

  margin-top:7px;
  margin-bottom:-25px;
}
</style>





</head>

<body>
    {% if user.is_authenticated %}

    <a href="{% url 'main' %}" data-value="#" ><img src="{% static 'logo4.png' %}" id="logo2" ></a>
    <div class="all-container">
      <!-- <h1>upcoming gigs</h1>    -->
      {% for post in posts %}
      
      <a href = "{% url 'contents_read' post.id %}">
      <div class="demo-box">
        <div class="main">
          {{post.title}}  <div class="pe">{{post.user.nickname}} / {{post.pub_date}}</div>
        </div>
        <div class="please">
        <div class="flight-info">
          <div class="segments">
            
            <div class="segment departure">
              <time>{{post.startTime}}
                  <br>{{post.startDate}}</time>
              <span class="airport"></span>
            </div>

            <div class="divider">
              <span class="plane"style="color:cornflowerblue;"></span>
            </div>
            <div class="segment adaptive">
            <span class="airport">{{post.spot}}, {{post.nation}}</span>
            
            </div>
            <div class="divider adaptive"> 
              <span class="plane"></span>
            </div>
            <div class="segment destination">
              <time>{{post.endTime}} <br> {{post.endDate}}</time>
              <span class="airport"></span>
            </div>
          </div>
        </div>
    </div>
        <div class="flight-duration">희망 동행<br>남:{{post.yourMaleNumber}} / 여:{{post.yourFemaleNumber}}</div>
      </div>
      <!-- <p class="info">Adaptive fluid flight info</p> -->
</a>
       {%endfor%}
     </div> 




     <div id="container">
      <div class="row">
          <div class="col-md-offset-2 col-md-8">
              <nav class="pagination-box" aria-label="Page navigation">
                  <ul class="pagination" style=" vertical-align: middle;">
                      {%if posts.has_previous%}

                      <li class="page-item" style=" vertical-align: middle;">
                          <a href="?page={{posts.previous_page_number}}" class="page-link" tabindex="-1" aria-label="Previous">
                              <span class="icon" aria-hidden="true">&laquo;</span>
                          </a>
                      </li>
                      {%endif%}

                      <li class="page-item">
                          <a class="page-link" href="#">{{posts.number}}</a>
                      </li>
                      {%if posts.has_next%}

                      <li class="page-item" style=" vertical-align: middle;">
                          <a href="?page={{posts.next_page_number}}" class="page-link" aria-label="Next" style=" vertical-align: middle;">
                              <span class="icon" aria-hidden="true" style=" vertical-align: middle;padding-bottom: 10px;">&raquo;</span>
                          </a>
                      </li>
                      {%endif%}

                  </ul>
                  <a href="{% url 'newpost' %}">                  
                    <div style="position: relative; right:17px; top:30px; float: right;">
                      <button id="search" class="search-button"><b>글쓰기</b></button>
                    </div>
                  </a>
                  <form action="{% url 'post_search' %}" method="GET">

                  <div class="search-box" style="vertical-align: middle;">
                      <input style="vertical-align: middle;" class="search-txt" type="text" name="q" placeholder="Search">
                      
                       <button class=" search-btn fas fa-search"></button>
                    </div>
                  </form>

              
              </nav>
          </div>

      </div>
      
  </div>

  
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    {% else %}

<script type="text/javascript">
  alert('로그인이 필요합니다.')
  window.location.href = '/login';
</script>
{% endif %}
</body>
{%endblock%}
</html>